 <title>Asistans Kom√®s Lakay</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .chat-container {
            width: 90%;
            max-width: 500px;

            height: 600px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            backdrop-filter: blur(20px);
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #4CAF50, #45a049);

            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .chat-header h2 {
            font-size: 1.4em;
            margin-bottom: 5px;
        }

        .chat-header p {
            font-size: 0.9em;
            opacity: 0.9;
        }


        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
            animation: fadeIn 0.3s ease-in;
        }

        .message.user {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .message.bot {
            background: #f0f0f0;
            color: #333;

            align-self: flex-start;
            border-bottom-left-radius: 4px;
            border-left: 4px solid #4CAF50;
        }

        .chat-input {
            display: flex;
            padding: 20px;
            background: white;
            border-top: 1px solid #eee;
        }

        .chat-input input {
            flex: 1;

            padding: 12px 16px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .chat-input input:focus {
            border-color: #4CAF50;
        }

        .chat-input button {
            margin-left: 10px;
            padding: 12px 20px;

            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .chat-input button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .chat-input button:active {
            transform: translateY(0);
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            padding: 10px 20px;
            background: #f9f9f9;
            flex-wrap: wrap;
        }

        .quick-btn {

            padding: 8px 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .quick-btn:hover {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        @keyframes fadeIn {

            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-indicator {
            display: none;
            padding: 10px 16px;
            background: #f0f0f0;
            border-radius: 18px;

            border-bottom-left-radius: 4px;
            align-self: flex-start;
            max-width: 80px;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            width: 8px;
            height: 8px;
            background: #666;
            border-radius: 50%;

            animation: typing 1.4s infinite;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {

                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: #f1f1f1;

            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>

    <div class="chat-container">
        <div class="chat-header">
            <h2>üè† Asistans Kom√®s Multileng</h2>
            <p>Krey√≤l | Fran√ßais | English | Espa√±ol</p>
        </div>

        <div class="quick-actions">
            <div class="quick-btn" onclick="quickMessage('Ki pwodwi ou genyen?')">üá≠üáπ Pwodwi</div>
            <div class="quick-btn" onclick="quickMessage('Quels produits avez-vous?')">üá´üá∑ Produits</div>
            <div class="quick-btn" onclick="quickMessage('What products do you have?')">üá∫üá∏ Products</div>
            <div class="quick-btn" onclick="quickMessage('¬øQu√© productos tienen?')">üá™üá∏ Productos</div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                üåç <strong>Byenvini / Bienvenue / Welcome / Bienvenidos!</strong>
                <br><br>
                Mwen se asistans kom√®s lakay nou an ki pale nan 4 lang:
                <br>
                üá≠üáπ <strong>Krey√≤l:</strong> Pwodwi, pri, k√≤mande, livrezon<br>
                üá´üá∑ <strong>Fran√ßais:</strong> Produits, prix, commandes, livraison<br>
                üá∫üá∏ <strong>English:</strong> Products, prices, orders, delivery<br>
                üá™üá∏ <strong>Espa√±ol:</strong> Productos, precios, pedidos, entrega
                <br><br>
                Pale ak mwen nan nenp√≤t lang nan! üòä
            </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
            <div class="typing-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>


        <div class="chat-input">
            <input type="text" id="messageInput" placeholder="Ekri mesaj ou a..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()">Voye</button>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chatMessages');
        const messageInput = document.getElementById('messageInput');
        const typingIndicator = document.getElementById('typingIndicator');

        // NLP ak NLM - Konpreyansyon ak jesyon lang krey√≤l
        const nlpData = {
            // Kategori ak mo kle yo
            categories: {
                'pwodwi': {
                    keywords: ['pwodwi', 'bagay', 'machandiz', 'vann', 'gen', 'ki', 'sa', 'w', 'genyen', 'ak', 'manje', 'bw√®', 'pw√≤pte', 'natir√®l'],
                    synonyms: ['atik', 'item', 'bagay', 'machandiz', 'kominote'],
                    response: 'Nou gen yon varyete pwodwi yo: ü•ò Manje lakay (bannann boukannen, mayi moulen, pwa), üßº Pwodwi pw√≤pte (savon natir√®l, det√®jan), üåø Pwodwi natir√®l (siwo my√®l, te f√®y), ak plis ank√≤. Ki tip pwodwi w enterese a?'
                },

                'pri': {
                    keywords: ['pri', 'konbyen', 'koute', 'lajan', 'dola', 'goud', 'k√≤b', 'peye', 'ch√®', 'bon', 'mache'],
                    synonyms: ['vale', 'p√®z', 'kantite'],
                    response: 'Pri nou yo depann sou pwodwi a:\nü•ò Manje: 25-150 goud\nüßº Pw√≤pte: 35-200 goud\nüåø Natir√®l: 50-300 goud\nDi m ki pwodwi espesifik w vle konnen pri a!'
                },
                'k√≤mande': {

                    keywords: ['k√≤mande', 'achte', 'pran', 'bezwen', 'vle', 'mande', 'rete', 'rez√®ve'],
                    synonyms: ['kom√®te', 'pase', 'f√®'],
                    response: 'Pou k√≤mande: üì± Rele nou nan 509-3456-7890 oswa üí¨ voye yon mesaj nan WhatsApp nou an. Nou aksepte:\nüí∞ K√≤b kontan\nüì± MonCash\nüí≥ Natcash\nüè¶ Transf√® ban'
                },
                'or√®': {
                    keywords: ['or√®', 'ouv√®', 'f√®men', 'travay', 'l√®', 'ki', 'tan', 'jou', 'sem√®n'],
                    synonyms: ['ot√®', '√≤r√®', 'tan'],
                    response: 'Or√® nou yo: üåÖ Lendi-Samdi: 7h maten - 6h aswe, üåô Dimanch: 9h maten - 4h aswe. Nou gen telef√≤n 24/7 pou √≤d ij√® yo!'
                },
                'livrezon': {
                    keywords: ['livrezon', 'livre', 'voye', 'rive', 'kote', 'adr√®s', 'ale', 'pote'],
                    synonyms: ['renm√®t', 'f√®', 'rive'],
                    response: 'Nou f√® livrezon nan tout kominote a! üöó\nüìç Zon nou kouvri yo: Sant-vil, Kafou, Delma\nüí∞ Fr√® livrezon: 25 goud\nüéÅ K√≤mande 200+ goud = Livrezon GRATIS!'
                },
                'kontak': {
                    keywords: ['kontak', 'telef√≤n', 'rele', 'whatsapp', 'email', 'adr√®s', 'kote', 'jwenn'],
                    synonyms: ['konekte', 'kominikasyon'],
                    response: 'üìû Telef√≤n: 509-3456-7890\nüì± WhatsApp: 509-3456-7890\nüìß Email: komeslakay@gmail.com\nüìç Adr√®s: 123 Lari Prensipal, P√≤toprens\nüïê Reponn garanti nan 30 minit!'
                }
            },
            
            // Salitasyon ak ekspresyon komen yo
            greetings: {
                keywords: ['bonjou', 'bonswa', 'alo', 'salut', 'kijan', 'sak', 'pase', 'k√≤man', 'ou', 'ye'],
                responses: [
                    'Bonjou! üòä Mwen kontan w vizite nou. Kijan mwen ka ede w jodi a?',

                    'Alo! üëã Byenvini nan kom√®s lakay nou an! Sa w bezwen?',
                    'Bonswa! ‚ú® Mwen la pou ede w ak tout kesyon w yo!'
                ]
            },
            
                            merci: {
                keywords: ['m√®si', 'gras', 'apresye', 'bon', 'bagay', 'ok√®'],
                responses: [
                    'Pa gen pwobl√®m! üòä Mwen la pou ede w nenp√≤t l√®.',
                    'Mwen kontan mwen te ka ede w! Gen l√≤t bagay?',

                    'Se devwa m! ü§ó Pa ezite rele m si w gen l√≤t kesyon.'
                ]
            },
            
            // Deteksyon lang ak reponn multileng
            languages: {
                creole: {
                    patterns: ['mwen', 'ou', 'li', 'nou', 'yo', 'gen', 'nan', 'ak', 'pou', 'ki', 'sa', 'k√≤man', 'kote', 'l√®'],
                    confidence_threshold: 0.3
                },
                french: {

                    patterns: ['je', 'tu', 'il', 'nous', 'vous', 'ils', 'le', 'la', 'les', 'de', 'du', 'des', 'pour', 'avec', 'comment', 'o√π', 'quand', 'bonjour', 'merci'],
                    confidence_threshold: 0.3
                },
                english: {
                    patterns: ['i', 'you', 'he', 'she', 'we', 'they', 'the', 'a', 'an', 'for', 'with', 'how', 'where', 'when', 'hello', 'thank', 'thanks'],
                    confidence_threshold: 0.3
                },

                spanish: {
                    patterns: ['yo', 't√∫', '√©l', 'ella', 'nosotros', 'ellos', 'el', 'la', 'los', 'las', 'de', 'para', 'con', 'c√≥mo', 'd√≥nde', 'cu√°ndo', 'hola', 'gracias'],
                    confidence_threshold: 0.3
                }
            },
            
            // Reponn nan plizy√® lang yo
            multilingual_responses: {
                welcome: {
                    creole: 'Bonjou! üòä Mwen se asistans kom√®s lakay nou an. Kijan mwen ka ede w?',
                    french: 'Bonjour! üòä Je suis l\'assistant de notre commerce local. Comment puis-je vous aider?',
                    english: 'Hello! üòä I\'m the assistant for our home business. How can I help you?',
                    spanish: '¬°Hola! üòä Soy el asistente de nuestro negocio local. ¬øC√≥mo puedo ayudarte?'
                },
                products: {
                    creole: 'Nou gen pwodwi sa yo: ü•ò Manje lakay, üßº Pwodwi pw√≤pte, üåø Pwodwi natir√®l. Ki sa w enterese?',
                    french: 'Nous avons ces produits: ü•ò Plats locaux, üßº Produits de nettoyage, üåø Produits naturels. Qu\'est-ce qui vous int√©resse?',
                    english: 'We have these products: ü•ò Local food, üßº Cleaning products, üåø Natural products. What interests you?',
                    spanish: 'Tenemos estos productos: ü•ò Comida local, üßº Productos de limpieza, üåø Productos naturales. ¬øQu√© te interesa?'

                },
                prices: {
                    creole: 'Pri nou yo: ü•ò Manje: 25-150 goud, üßº Pw√≤pte: 35-200 goud, üåø Natir√®l: 50-300 goud',
                    french: 'Nos prix: ü•ò Repas: 25-150 gourdes, üßº Nettoyage: 35-200 gourdes, üåø Naturel: 50-300 gourdes',
                    english: 'Our prices: ü•ò Food: 25-150 gourdes, üßº Cleaning: 35-200 gourdes, üåø Natural: 50-300 gourdes',
                    spanish: 'Nuestros precios: ü•ò Comida: 25-150 gourdes, üßº Limpieza: 35-200 gourdes, üåø Natural: 50-300 gourdes'
                },
                contact: {
                    creole: 'üìû Telef√≤n: 509-3456-7890 | üì± WhatsApp: 509-3456-7890 | üìß Email: komeslakay@gmail.com',
                    french: 'üìû T√©l√©phone: 509-3456-7890 | üì± WhatsApp: 509-3456-7890 | üìß Email: komeslakay@gmail.com',
                    english: 'üìû Phone: 509-3456-7890 | üì± WhatsApp: 509-3456-7890 | üìß Email: komeslakay@gmail.com',
                    spanish: 'üìû Tel√©fono: 509-3456-7890 | üì± WhatsApp: 509-3456-7890 | üìß Email: komeslakay@gmail.com'
                },
                thanks: {
                    creole: 'Pa gen pwobl√®m! üòä Mwen la pou ede w nenp√≤t l√®.',
                    french: 'De rien! üòä Je suis l√† pour vous aider √† tout moment.',
                    english: 'You\'re welcome! üòä I\'m here to help you anytime.',

                    spanish: '¬°De nada! üòä Estoy aqu√≠ para ayudarte en cualquier momento.'
                },
                not_understand: {
                    creole: 'Mwen pa konprann byen. Ou ka mande sou: pwodwi, pri, k√≤mande, or√®, livrezon.',
                    french: 'Je ne comprends pas bien. Vous pouvez demander sur: produits, prix, commandes, heures, livraison.',
                    english: 'I don\'t understand well. You can ask about: products, prices, orders, hours, delivery.',
                    spanish: 'No entiendo bien. Puedes preguntar sobre: productos, precios, pedidos, horarios, entrega.'
                }
            }
        };

        // Fonksyon deteksyon lang
        function detectLanguage(text) {
            const words = text.toLowerCase().split(/\s+/);
            const scores = {};

            
            for (const [lang, data] of Object.entries(nlpData.languages)) {
                let matches = 0;
                for (const word of words) {
                    if (data.patterns.some(pattern => word.includes(pattern) || pattern.includes(word))) {
                        matches++;
                    }
                }
                scores[lang] = matches / words.length;

            }
            
            // Jwenn lang ki gen pi gwo score la
            let detectedLang = 'creole'; // Default
            let maxScore = 0;
            
            for (const [lang, score] of Object.entries(scores)) {
                if (score > maxScore && score >= nlpData.languages[lang].confidence_threshold) {
                    maxScore = score;
                    detectedLang = lang;

                }
            }
            
            return detectedLang;
        }

        // Fonksyon NLP pou konprann entansyon
        function analyzeIntent(text, detectedLang) {
            const words = text.toLowerCase().split(/\s+/);
            let bestMatch = null;
            let maxScore = 0;
            
            // Ch√®che nan kategori yo

            for (const [category, data] of Object.entries(nlpData.categories)) {
                let score = 0;
                const totalKeywords = data.keywords.length;
                
                for (const word of words) {
                    // Ch√®che mo egzak yo
                    if (data.keywords.includes(word)) {
                        score += 2;
                    }

                    // Ch√®che sinonim yo
                    if (data.synonyms && data.synonyms.some(syn => word.includes(syn) || syn.includes(word))) {
                        score += 1;
                    }
                    // Ch√®che mo ki gen rap√≤
                    if (data.keywords.some(keyword => word.includes(keyword) || keyword.includes(word))) {
                        score += 1;
                    }
                }

                
                // Kalkil√® pousantaj match
                const matchPercentage = score / totalKeywords;
                
                if (matchPercentage > maxScore && matchPercentage > 0.1) {
                    maxScore = matchPercentage;
                    bestMatch = category;
                }
            }
            
            return { intent: bestMatch, confidence: maxScore, language: detectedLang };
        }

        // Fonksyon pou bay reponn multileng
        function getMultilingualResponse(intent, language) {
            if (nlpData.multilingual_responses[intent] && nlpData.multilingual_responses[intent][language]) {
                return nlpData.multilingual_responses[intent][language];
            }
            
            // Si pa gen reponn nan lang sa a, itilize krey√≤l k√≤m default
            if (nlpData.multilingual_responses[intent] && nlpData.multilingual_responses[intent]['creole']) {
                return nlpData.multilingual_responses[intent]['creole'];
            }
            

            return nlpData.multilingual_responses.not_understand[language] || nlpData.multilingual_responses.not_understand['creole'];
        }

        function sendMessage() {
            const message = messageInput.value.trim();
            if (message === '') return;

            // Montre mesaj moun nan
            addMessage(message, 'user');
            messageInput.value = '';


            // Montre indik√® k ap tape
            showTyping();

            // Reponn apre yon ti tan
            setTimeout(() => {
                hideTyping();
                const response = getBotResponse(message);
                addMessage(response, 'bot');
            }, 1500);
        }

        function addMessage(message, sender) {

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function getBotResponse(message) {
            // Detekte lang lan

            const detectedLang = detectLanguage(message);
            
            // Analize entansyon ak NLP
            const analysis = analyzeIntent(message, detectedLang);
            
            // Ch√®che si se salitasyon
            const lowerMessage = message.toLowerCase();
            const greetingWords = nlpData.greetings.keywords;
            const isGreeting = greetingWords.some(word => lowerMessage.includes(word));
            
            if (isGreeting) {
                const greetingResponses = nlpData.greetings.responses;
                return greetingResponses[Math.floor(Math.random() * greetingResponses.length)];
            }
            
            // Ch√®che si se rem√®siman
            const thanksWords = nlpData.merci.keywords;
            const isThanks = thanksWords.some(word => lowerMessage.includes(word));
            
            if (isThanks) {
                return getMultilingualResponse('thanks', detectedLang);
            }
            
            // Si nou jwenn yon entansyon ak konfyans ki bon
            if (analysis.intent && analysis.confidence > 0.2) {
                switch(analysis.intent) {
                    case 'pwodwi':
                        return getMultilingualResponse('products', detectedLang);
                    case 'pri':
                        return getMultilingualResponse('prices', detectedLang);
                    case 'k√≤mande':
                        return nlpData.categories.k√≤mande.response;
                    case 'or√®':
                        return nlpData.categories.or√®.response;
                    case 'livrezon':
                        return nlpData.categories.livrezon.response;
                    case 'kontak':
                        return getMultilingualResponse('contact', detectedLang);
                    default:
                        return getMultilingualResponse('not_understand', detectedLang);
                }
            }
            
            // Si nou pa konprann
            return getMultilingualResponse('not_understand', detectedLang);

        }

        function showTyping() {
            typingIndicator.style.display = 'block';
            chatMessages.appendChild(typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTyping() {
            typingIndicator.style.display = 'none';
        }

        function quickMessage(message) {
            messageInput.value = message;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        // Mete focus sou input la
        messageInput.focus();
    </script>
</body>
</html>
